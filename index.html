<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetPal - Ù†ÙŠØªØ¨Ø§Ù„ Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T66Y8ENY24"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-T66Y8ENY24');
    </script>

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="main-header">
        <div class="container header-container">
            <a href="index.html" class="logo-link">
                <img src="images/logo.png" alt="Ø´Ø¹Ø§Ø± NetPal" class="logo-img">
                <h1>NetPal</h1>
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#services">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a></li>
                    <li><a href="#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero-welcome-text">
        <div class="container">
            <h2>Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù†ÙŠØªØ¨Ø§Ù„</h2>
            <p>Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª Ø§Ù†ØªØ±Ù†Øª Ù…ØªÙ†ÙˆØ¹Ø© ÙˆÙ†Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ ÙƒØ³Ø¨ Ø§Ù„Ù…Ø§Ù„ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.</p>
            <a href="#services" class="btn btn-primary-dark">Ø§Ø³ØªÙƒØ´Ù Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a>
        </div>
    </section>

    <div class="container slider-container-wrapper"> 
        <section class="hero-slider">
            <div class="slide" id="slide-1" style="background-image: url('images/hero-office.jpg');"></div>
            <div class="slide" id="slide-2" style="background-image: url('images/hero-abstract.jpg');"></div>
            <div class="animated-logo-container">
                <img src="images/logo-white.png" alt="NetPal Logo" class="animated-logo">
            </div>
        </section>
    </div>

    <section id="services" class="services-section">
        <div class="container">
            <h2>Ø®Ø¯Ù…Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h2>
            <div id="dynamic-services-container" class="services-grid">
                <p id="loading-msg" style="text-align: center; width: 100%; font-size: 1.2rem;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª...</p>
            </div>
        </div>
    </section>

    <div id="whatsappModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h3 style="color: #043c4b; margin-bottom: 15px;">ØªÙˆØ§ØµÙ„ Ù„Ø·Ù„Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø©</h3>
            <p style="margin-bottom: 20px; color: #666;">Ø§Ø®ØªØ± Ø£Ø­Ø¯ Ù…Ù…Ø«Ù„ÙŠ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©:</p>
            <button class="btn-whatsapp" onclick="sendToWhatsapp('NUMBER_1')">ğŸ“± ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù… (Ø±Ù‚Ù… 1)</button>
            <button class="btn-whatsapp" onclick="sendToWhatsapp('NUMBER_2')">ğŸ“± ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù… (Ø±Ù‚Ù… 2)</button>
        </div>
    </div>

    <section id="contact" class="contact-section">
        <div class="container">
            <h2>Ù‡Ù„ Ø£Ù†Øª Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡ØŸ</h2>
            <p>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø± ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ø£Ùˆ ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù….</p>
            <div class="contact-links">
                <a href="https://t.me/net_pal" target="_blank" class="btn btn-primary">ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… (@net_pal)</a>
                <a href="https://instagram.com/net.pal22" target="_blank" class="btn btn-secondary">Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù… (@net.pal22)</a>
            </div>
        </div>
    </section>

    <footer class="main-footer">
        <div class="container">
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; 2025 - NetPal</p>
        </div>
    </footer>

    <script>
        // Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
        const PHONE_1 = "963997804468"; 
        const PHONE_2 = "963947810769"; 
        
        let currentServiceTitle = "", currentServicePrice = "", currentServiceFeatures = "";
        const container = document.getElementById('dynamic-services-container');

        // ğŸš€ Ø§Ù„Ø­Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù Ù…Ø¨Ø§Ø´Ø±Ø© (ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† VPN)
        // Ù†Ø¶ÙŠÙ ?t=timestamp Ù„Ù…Ù†Ø¹ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù† Ø­ÙØ¸ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (Caching)
        fetch('services.json?t=' + new Date().getTime()) 
            .then(response => {
                if (!response.ok) throw new Error("HTTP error " + response.status);
                return response.json();
            })
            .then(data => {
                container.innerHTML = "";
                if (!Array.isArray(data) || data.length === 0) {
                    container.innerHTML = "<p style='text-align:center; width:100%;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø¯Ù…Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹.</p>";
                    return;
                }

                data.forEach(service => {
                    // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù…ÙŠØ²Ø§Øª
                    let featuresHtml = '';
                    let featuresText = '';
                    if (service.features && Array.isArray(service.features)) {
                        featuresHtml = '<ul class="features-list">';
                        service.features.forEach(feat => {
                            featuresHtml += `<li>âœ… ${feat}</li>`;
                            featuresText += `- ${feat}\n`;
                        });
                        featuresHtml += '</ul>';
                    }

                    const safeTitle = (service.title || "").replace(/'/g, "\\'");
                    const safeDesc = featuresText.replace(/'/g, "\\'").replace(/\n/g, "%0A");

                    const html = `
                        <div class="service-card">
                            <div class="card-header"><h3>${service.title}</h3></div>
                            <div class="card-body">
                                <p class="desc">${service.description || ""}</p>
                                ${featuresHtml}
                                <div class="price-tag">${service.price}</div>
                                <button class="btn-main" onclick="openModal('${safeTitle}', '${service.price}', '${safeDesc}')">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø©</button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += html;
                });
            })
            .catch(error => {
                console.error("Error:", error);
                container.innerHTML = "<p style='text-align:center; color:red'>Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ø¯Ù…Ø§Øª... ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.</p>";
            });

        // --- Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†ÙˆØ§ÙØ° ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ---
        function openModal(title, price, features) {
            currentServiceTitle = title;
            currentServicePrice = price;
            currentServiceFeatures = features;
            document.getElementById('whatsappModal').style.display = "flex";
        }
        function closeModal() { document.getElementById('whatsappModal').style.display = "none"; }
        window.onclick = function(event) { if (event.target == document.getElementById('whatsappModal')) closeModal(); }
        function sendToWhatsapp(agent) {
            let phone = (agent === 'NUMBER_1') ? PHONE_1 : PHONE_2;
            let text = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©: *${currentServiceTitle}*\nØ§Ù„Ø³Ø¹Ø±: ${currentServicePrice}\n`;
            if(currentServiceFeatures) text += `\nØªÙØ§ØµÙŠÙ„:\n${decodeURIComponent(currentServiceFeatures)}`;
            let url = `https://wa.me/${phone}?text=${encodeURIComponent(text)}`;
            window.open(url, '_blank');
            closeModal();
        }
    </script>
</body>
</html>